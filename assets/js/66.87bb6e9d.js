(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{261:function(e,a,r){"use strict";r.r(a);var t=r(4),s=Object(t.a)({},function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"webpack-loaderå®ç°"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack-loaderå®ç°","aria-hidden":"true"}},[e._v("#")]),e._v(" webpack loaderå®ç°")]),e._v(" "),r("p",[e._v("ç‚¹å‡»å…³æ³¨æœ¬"),r("a",{attrs:{href:"#%E5%85%AC%E4%BC%97%E5%8F%B7"}},[e._v("å…¬ä¼—å·")]),e._v("è·å–æ–‡æ¡£æœ€æ–°æ›´æ–°,å¹¶å¯ä»¥é¢†å–é…å¥—äºæœ¬æŒ‡å—çš„ "),r("strong",[e._v("ã€Šå‰ç«¯")]),e._v("æ‰‹å†Œã€‹** ä»¥åŠ"),r("strong",[e._v("æœ€æ ‡å‡†çš„ç®€å†æ¨¡æ¿")]),e._v(".")]),e._v(" "),r("p",[e._v("æœ¬æ–‡æ¥æºäºä½œè€…å° boyçš„"),r("a",{attrs:{href:"https://juejin.im/post/5a698a316fb9a01c9f5b9ca0",target:"_blank",rel:"noopener noreferrer"}},[e._v("æ‰‹æŠŠæ‰‹æ•™ä½ æ’¸ä¸€ä¸ª Webpack Loader\n"),r("OutboundLink")],1)]),e._v(" "),r("hr"),e._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/webp/128853/1565282149966-8f2e13ca-f05d-41f0-83c0-638236cca017.webp#align=left&display=inline&height=420&originHeight=420&originWidth=1083&size=0&status=done&width=1083",alt:""}}),r("br"),e._v("ç»å¸¸é€› webpack å®˜ç½‘çš„åŒå­¦åº”è¯¥ä¼šå¾ˆçœ¼ç†Ÿä¸Šé¢çš„å›¾ã€‚æ­£å¦‚å®ƒå®£ä¼ çš„ä¸€æ ·ï¼Œwebpack èƒ½æŠŠå·¦ä¾§å„ç§ç±»å‹çš„æ–‡ä»¶ï¼ˆwebpack æŠŠå®ƒä»¬å«ä½œã€Œæ¨¡å—ã€ï¼‰ç»Ÿä¸€æ‰“åŒ…ä¸ºå³è¾¹è¢«é€šç”¨æµè§ˆå™¨æ”¯æŒçš„æ–‡ä»¶ã€‚webpack å°±åƒæ˜¯é­”æœ¯å¸ˆçš„å¸½å­ï¼Œæ”¾è¿›å»ä¸€æ¡ä¸å·¾ï¼Œå˜å‡ºæ¥ä¸€åªç™½é¸½ã€‚é‚£è¿™ä¸ªã€Œé­”æœ¯ã€çš„è¿‡ç¨‹æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬ä» webpack çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ â€”â€” loader æ¥å¯»æ‰¾ç­”æ¡ˆï¼Œå¹¶ç€æ‰‹å®ç°è¿™ä¸ªã€Œé­”æœ¯ã€ã€‚çœ‹å®Œæœ¬æ–‡ï¼Œä½ å¯ä»¥ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("çŸ¥é“ webpack loader çš„ä½œç”¨å’ŒåŸç†ã€‚")]),e._v(" "),r("li",[e._v("è‡ªå·±å¼€å‘è´´åˆä¸šåŠ¡éœ€æ±‚çš„ loaderã€‚\n"),r("a",{attrs:{name:"Hh6x3"}})])]),e._v(" "),r("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯-loader-ï¼Ÿ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-loader-ï¼Ÿ","aria-hidden":"true"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯ Loader ï¼Ÿ")]),e._v(" "),r("p",[e._v("åœ¨æ’¸ä¸€ä¸ª loader å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçŸ¥é“å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼Œloader å°±æ˜¯ä¸€ä¸ª node æ¨¡å—ï¼Œè¿™å¾ˆç¬¦åˆ webpack ä¸­ã€Œä¸‡ç‰©çš†æ¨¡å—ã€çš„æ€è·¯ã€‚æ—¢ç„¶æ˜¯ node æ¨¡å—ï¼Œé‚£å°±ä¸€å®šä¼šå¯¼å‡ºç‚¹ä»€ä¹ˆã€‚åœ¨ webpack çš„å®šä¹‰ä¸­ï¼Œloader å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œloader ä¼šåœ¨è½¬æ¢æºæ¨¡å—ï¼ˆresourceï¼‰çš„æ—¶å€™è°ƒç”¨è¯¥å‡½æ•°ã€‚åœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ "),r("code",[e._v("this")]),e._v(" ä¸Šä¸‹æ–‡ç»™ Loader API æ¥ä½¿ç”¨å®ƒä»¬ã€‚å›é¡¾ä¸€ä¸‹å¤´å›¾å·¦è¾¹çš„é‚£äº›æ¨¡å—ï¼Œä»–ä»¬å°±æ˜¯æ‰€è°“çš„æºæ¨¡å—ï¼Œä¼šè¢« loader è½¬åŒ–ä¸ºå³è¾¹çš„é€šç”¨æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¦‚æ‹¬ä¸€ä¸‹ loader çš„åŠŸèƒ½ï¼šæŠŠæºæ¨¡å—è½¬æ¢æˆé€šç”¨æ¨¡å—ã€‚\n"),r("a",{attrs:{name:"LCht0"}})]),e._v(" "),r("h2",{attrs:{id:"loader-æ€ä¹ˆç”¨-ï¼Ÿ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loader-æ€ä¹ˆç”¨-ï¼Ÿ","aria-hidden":"true"}},[e._v("#")]),e._v(" Loader æ€ä¹ˆç”¨ ï¼Ÿ")]),e._v(" "),r("p",[e._v("çŸ¥é“å®ƒçš„å¼ºå¤§åŠŸèƒ½ä»¥åï¼Œæˆ‘ä»¬è¦æ€ä¹ˆä½¿ç”¨ loader å‘¢ï¼Ÿ\n"),r("a",{attrs:{name:"llaIm"}})]),e._v(" "),r("h3",{attrs:{id:"_1-é…ç½®-webpack-config-æ–‡ä»¶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-é…ç½®-webpack-config-æ–‡ä»¶","aria-hidden":"true"}},[e._v("#")]),e._v(" 1. é…ç½® webpack config æ–‡ä»¶")]),e._v(" "),r("p",[e._v("æ—¢ç„¶ loader æ˜¯ webpack æ¨¡å—ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿å…¶ç”Ÿæ•ˆï¼Œè‚¯å®šç¦»ä¸å¼€é…ç½®ã€‚æˆ‘è¿™é‡Œæ”¶é›†äº†ä¸‰ç§é…ç½®æ–¹æ³•ï¼Œä»»ä½ æŒ‘é€‰ã€‚\n"),r("a",{attrs:{name:"UsvJV"}})]),e._v(" "),r("h4",{attrs:{id:"å•ä¸ª-loader-çš„é…ç½®"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å•ä¸ª-loader-çš„é…ç½®","aria-hidden":"true"}},[e._v("#")]),e._v(" å•ä¸ª loader çš„é…ç½®")]),e._v(" "),r("p",[e._v("å¢åŠ  "),r("code",[e._v("config.module.rules")]),e._v(" æ•°ç»„ä¸­çš„è§„åˆ™å¯¹è±¡ï¼ˆrule objectï¼‰ã€‚")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("let webpackConfig = {\n    //...\n    module: {\n        rules: [{\n            test: /\\.js$/,\n            use: [{\n                //è¿™é‡Œå†™ loader çš„è·¯å¾„\n                loader: path.resolve(__dirname, 'loaders/a-loader.js'), \n                options: {/* ... */}\n            }]\n        }]\n    }\n}\nå¤åˆ¶ä»£ç \n")])])]),r("p",[r("a",{attrs:{name:"3qnZM"}})]),e._v(" "),r("h4",{attrs:{id:"å¤šä¸ª-loader-çš„é…ç½®"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å¤šä¸ª-loader-çš„é…ç½®","aria-hidden":"true"}},[e._v("#")]),e._v(" å¤šä¸ª loader çš„é…ç½®")]),e._v(" "),r("p",[e._v("å¢åŠ  "),r("code",[e._v("config.module.rules")]),e._v(" æ•°ç»„ä¸­çš„è§„åˆ™å¯¹è±¡ä»¥åŠ "),r("code",[e._v("config.resolveLoader")]),e._v("ã€‚")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("let webpackConfig = {\n    //...\n    module: {\n        rules: [{\n            test: /\\.js$/,\n            use: [{\n                //è¿™é‡Œå†™ loader åå³å¯\n                loader: 'a-loader', \n                options: {/* ... */}\n            }, {\n                loader: 'b-loader', \n                options: {/* ... */}\n            }]\n        }]\n    },\n    resolveLoader: {\n        // å‘Šè¯‰ webpack è¯¥å»é‚£ä¸ªç›®å½•ä¸‹æ‰¾ loader æ¨¡å—\n        modules: ['node_modules', path.resolve(__dirname, 'loaders')]\n    }\n}\nå¤åˆ¶ä»£ç \n")])])]),r("p",[r("a",{attrs:{name:"XNyfo"}})]),e._v(" "),r("h4",{attrs:{id:"å…¶ä»–é…ç½®"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–é…ç½®","aria-hidden":"true"}},[e._v("#")]),e._v(" å…¶ä»–é…ç½®")]),e._v(" "),r("p",[e._v("ä¹Ÿå¯ä»¥é€šè¿‡ "),r("code",[e._v("npm link")]),e._v(" è¿æ¥åˆ°ä½ çš„é¡¹ç›®é‡Œï¼Œè¿™ä¸ªæ–¹å¼ç±»ä¼¼ node CLI å·¥å…·å¼€å‘ï¼Œé loader æ¨¡å—ä¸“ç”¨ï¼Œæœ¬æ–‡å°±ä¸å¤šè®¨è®ºäº†ã€‚\n"),r("a",{attrs:{name:"n8aUN"}})]),e._v(" "),r("h3",{attrs:{id:"_2-ç®€å•ä¸Šæ‰‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç®€å•ä¸Šæ‰‹","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. ç®€å•ä¸Šæ‰‹")]),e._v(" "),r("p",[e._v("é…ç½®å®Œæˆåï¼Œå½“ä½ åœ¨ webpack é¡¹ç›®ä¸­å¼•å…¥æ¨¡å—æ—¶ï¼ŒåŒ¹é…åˆ° rule ï¼ˆä¾‹å¦‚ä¸Šé¢çš„ "),r("code",[e._v("/\\.js$/")]),e._v("ï¼‰å°±ä¼šå¯ç”¨å¯¹åº”çš„ loader (ä¾‹å¦‚ä¸Šé¢çš„ a-loader å’Œ b-loader)ã€‚è¿™æ—¶ï¼Œå‡è®¾æˆ‘ä»¬æ˜¯ a-loader çš„å¼€å‘è€…ï¼Œa-loader ä¼šå¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—çš„å”¯ä¸€å‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«æºæ–‡ä»¶å†…å®¹çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬æš‚ä¸”ç§°å®ƒä¸ºã€Œsourceã€ã€‚"),r("br"),e._v("æ¥ç€æˆ‘ä»¬åœ¨å‡½æ•°ä¸­å¤„ç† source çš„è½¬åŒ–ï¼Œæœ€ç»ˆè¿”å›å¤„ç†å¥½çš„å€¼ã€‚å½“ç„¶è¿”å›å€¼çš„æ•°é‡å’Œè¿”å›æ–¹å¼ä¾æ® a-loader çš„éœ€æ±‚æ¥å®šã€‚ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥é€šè¿‡ "),r("code",[e._v("return")]),e._v(" è¿”å›ä¸€ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯è½¬åŒ–åçš„å€¼ã€‚å¦‚æœéœ€è¦è¿”å›å¤šä¸ªå‚æ•°ï¼Œåˆ™é¡»è°ƒç”¨ "),r("code",[e._v("this.callback(err, values...)")]),e._v(" æ¥è¿”å›ã€‚åœ¨å¼‚æ­¥ loader ä¸­ä½ å¯ä»¥é€šè¿‡æŠ›é”™æ¥å¤„ç†å¼‚å¸¸æƒ…å†µã€‚Webpack å»ºè®®æˆ‘ä»¬è¿”å› 1 è‡³ 2 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è½¬åŒ–åçš„ sourceï¼Œå¯ä»¥æ˜¯ string æˆ– bufferã€‚ç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œæ˜¯ç”¨æ¥å½“ä½œ SourceMap çš„å¯¹è±¡ã€‚\n"),r("a",{attrs:{name:"lOlnF"}})]),e._v(" "),r("h3",{attrs:{id:"_3-è¿›é˜¶ä½¿ç”¨"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¿›é˜¶ä½¿ç”¨","aria-hidden":"true"}},[e._v("#")]),e._v(" 3. è¿›é˜¶ä½¿ç”¨")]),e._v(" "),r("p",[e._v("é€šå¸¸æˆ‘ä»¬å¤„ç†ä¸€ç±»æºæ–‡ä»¶çš„æ—¶å€™ï¼Œå•ä¸€çš„ loaderæ˜¯ä¸å¤Ÿç”¨çš„ï¼ˆloader çš„è®¾è®¡åŸåˆ™æˆ‘ä»¬ç¨åè®²åˆ°ï¼‰ã€‚ä¸€èˆ¬æˆ‘ä»¬ä¼šå°†å¤šä¸ª loader ä¸²è”ä½¿ç”¨ï¼Œç±»ä¼¼å·¥å‚æµæ°´çº¿ï¼Œä¸€ä¸ªä½ç½®çš„å·¥äººï¼ˆæˆ–æœºå™¨ï¼‰åªå¹²ä¸€ç§ç±»å‹çš„æ´»ã€‚æ—¢ç„¶æ˜¯ä¸²è”ï¼Œé‚£è‚¯å®šæœ‰é¡ºåºçš„é—®é¢˜ï¼Œwebpack è§„å®š use æ•°ç»„ä¸­ loader çš„æ‰§è¡Œé¡ºåºæ˜¯ä»æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ªï¼Œå®ƒä»¬ç¬¦åˆä¸‹é¢è¿™äº›è§„åˆ™ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("é¡ºåºæœ€åçš„ loader ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨ï¼Œå®ƒæ‹¿åˆ°çš„å‚æ•°æ˜¯ source çš„å†…å®¹")]),e._v(" "),r("li",[e._v("é¡ºåºç¬¬ä¸€çš„ loader æœ€åè¢«è°ƒç”¨ï¼Œ webpack æœŸæœ›å®ƒè¿”å› JS ä»£ç ï¼Œsource map å¦‚å‰é¢æ‰€è¯´æ˜¯å¯é€‰çš„è¿”å›å€¼ã€‚")]),e._v(" "),r("li",[e._v("å¤¹åœ¨ä¸­é—´çš„ loader è¢«é“¾å¼è°ƒç”¨ï¼Œä»–ä»¬æ‹¿åˆ°ä¸Šä¸ª loader çš„è¿”å›å€¼ï¼Œä¸ºä¸‹ä¸€ä¸ª loader æä¾›è¾“å…¥ã€‚")])]),e._v(" "),r("p",[e._v("æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼š"),r("br"),e._v("webpack.config.js")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("{\n        test: /\\.js/,\n        use: [\n            'bar-loader',\n            'mid-loader',\n            'foo-loader'\n        ]\n    }\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("åœ¨ä¸Šé¢çš„é…ç½®ä¸­ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("loader çš„è°ƒç”¨é¡ºåºæ˜¯ foo-loader -> mid-loader -> bar-loaderã€‚")]),e._v(" "),r("li",[e._v("foo-loader æ‹¿åˆ° sourceï¼Œå¤„ç†åæŠŠ JS ä»£ç ä¼ é€’ç»™ midï¼Œmid æ‹¿åˆ° foo å¤„ç†è¿‡çš„ â€œsourceâ€ ï¼Œå†å¤„ç†ä¹‹åç»™ barï¼Œbar å¤„ç†å®Œåå†äº¤ç»™  webpackã€‚")]),e._v(" "),r("li",[e._v("bar-loader æœ€ç»ˆæŠŠè¿”å›å€¼å’Œ source map ä¼ ç»™ webpackã€‚\n"),r("a",{attrs:{name:"ZDhX0"}})])]),e._v(" "),r("h2",{attrs:{id:"ç”¨æ­£ç¡®çš„å§¿åŠ¿å¼€å‘-loader"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æ­£ç¡®çš„å§¿åŠ¿å¼€å‘-loader","aria-hidden":"true"}},[e._v("#")]),e._v(" ç”¨æ­£ç¡®çš„å§¿åŠ¿å¼€å‘ Loader")]),e._v(" "),r("p",[e._v("äº†è§£äº†åŸºæœ¬æ¨¡å¼åï¼Œæˆ‘ä»¬å…ˆä¸æ€¥ç€å¼€å‘ã€‚æ‰€è°“ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹å¼€å‘ä¸€ä¸ª loader éœ€è¦æ³¨æ„äº›ä»€ä¹ˆï¼Œè¿™æ ·å¯ä»¥å°‘èµ°å¼¯è·¯ï¼Œæé«˜å¼€å‘è´¨é‡ã€‚ä¸‹é¢æ˜¯ webpack æä¾›çš„å‡ ç‚¹æŒ‡å—ï¼Œå®ƒä»¬æŒ‰é‡è¦ç¨‹åº¦æ’åºï¼Œæ³¨æ„å…¶ä¸­æœ‰äº›ç‚¹åªé€‚ç”¨ç‰¹å®šæƒ…å†µã€‚\n"),r("a",{attrs:{name:"oi1DX"}})]),e._v(" "),r("h3",{attrs:{id:"_1-å•ä¸€èŒè´£"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-å•ä¸€èŒè´£","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.å•ä¸€èŒè´£")]),e._v(" "),r("p",[e._v("ä¸€ä¸ª loader åªåšä¸€ä»¶äº‹ï¼Œè¿™æ ·ä¸ä»…å¯ä»¥è®© loader çš„ç»´æŠ¤å˜å¾—ç®€å•ï¼Œè¿˜èƒ½è®© loader ä»¥ä¸åŒçš„ä¸²è”æ–¹å¼ç»„åˆå‡ºç¬¦åˆåœºæ™¯éœ€æ±‚çš„æ­é…ã€‚\n"),r("a",{attrs:{name:"qWWT4"}})]),e._v(" "),r("h3",{attrs:{id:"_2-é“¾å¼ç»„åˆ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-é“¾å¼ç»„åˆ","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.é“¾å¼ç»„åˆ")]),e._v(" "),r("p",[e._v("è¿™ä¸€ç‚¹æ˜¯ç¬¬ä¸€ç‚¹çš„å»¶ä¼¸ã€‚å¥½å¥½åˆ©ç”¨ loader çš„é“¾å¼ç»„åˆçš„ç‰¹å‹ï¼Œå¯ä»¥æ”¶è·æ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚å…·ä½“æ¥è¯´ï¼Œå†™ä¸€ä¸ªèƒ½ä¸€æ¬¡å¹² 5 ä»¶äº‹æƒ…çš„ loader ï¼Œä¸å¦‚ç»†åˆ†æˆ 5 ä¸ªåªèƒ½å¹²ä¸€ä»¶äº‹æƒ…çš„ loaderï¼Œä¹Ÿè®¸å…¶ä¸­å‡ ä¸ªèƒ½ç”¨åœ¨å…¶ä»–ä½ æš‚æ—¶è¿˜æ²¡æƒ³åˆ°çš„åœºæ™¯ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ã€‚"),r("br"),e._v("å‡è®¾ç°åœ¨æˆ‘ä»¬è¦å®ç°é€šè¿‡ loader çš„é…ç½®å’Œ query å‚æ•°æ¥æ¸²æŸ“æ¨¡ç‰ˆçš„åŠŸèƒ½ã€‚æˆ‘ä»¬åœ¨ â€œapply-loaderâ€ é‡Œé¢å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œå®ƒè´Ÿè´£ç¼–è¯‘æºæ¨¡ç‰ˆï¼Œæœ€ç»ˆè¾“å‡ºä¸€ä¸ªå¯¼å‡º HTML å­—ç¬¦ä¸²çš„æ¨¡å—ã€‚æ ¹æ®é“¾å¼ç»„åˆçš„è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆå¦å¤–ä¸¤ä¸ªå¼€æº loaderï¼š")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("jade-loader")]),e._v(" æŠŠæ¨¡ç‰ˆæºæ–‡ä»¶è½¬åŒ–ä¸ºå¯¼å‡ºä¸€ä¸ªå‡½æ•°çš„æ¨¡å—ã€‚")]),e._v(" "),r("li",[r("code",[e._v("apply-loader")]),e._v(" æŠŠ loader options ä¼ ç»™ä¸Šé¢çš„å‡½æ•°å¹¶æ‰§è¡Œï¼Œè¿”å› HTML æ–‡æœ¬ã€‚")]),e._v(" "),r("li",[r("code",[e._v("html-loader")]),e._v(" æ¥æ”¶ HTMl æ–‡æœ¬æ–‡ä»¶ï¼Œè½¬åŒ–ä¸ºå¯è¢«å¼•ç”¨çš„ JS æ¨¡å—ã€‚")])]),e._v(" "),r("blockquote",[r("p",[e._v("äº‹å®ä¸Šä¸²è”ç»„åˆä¸­çš„ loader å¹¶ä¸ä¸€å®šè¦è¿”å› JS ä»£ç ã€‚åªè¦ä¸‹æ¸¸çš„ loader èƒ½æœ‰æ•ˆå¤„ç†ä¸Šæ¸¸ loader çš„è¾“å‡ºï¼Œé‚£ä¹ˆä¸Šæ¸¸çš„ loader å¯ä»¥è¿”å›ä»»æ„ç±»å‹çš„æ¨¡å—ã€‚")])]),e._v(" "),r("p",[r("a",{attrs:{name:"d8uab"}})]),e._v(" "),r("h3",{attrs:{id:"_3-æ¨¡å—åŒ–"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ¨¡å—åŒ–","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.æ¨¡å—åŒ–")]),e._v(" "),r("p",[e._v("ä¿è¯ loader æ˜¯æ¨¡å—åŒ–çš„ã€‚loader ç”Ÿæˆæ¨¡å—éœ€è¦éµå¾ªå’Œæ™®é€šæ¨¡å—ä¸€æ ·çš„è®¾è®¡åŸåˆ™ã€‚\n"),r("a",{attrs:{name:"giy3F"}})]),e._v(" "),r("h3",{attrs:{id:"_4-æ— çŠ¶æ€"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ— çŠ¶æ€","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.æ— çŠ¶æ€")]),e._v(" "),r("p",[e._v("åœ¨å¤šæ¬¡æ¨¡å—çš„è½¬åŒ–ä¹‹é—´ï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨ loader ä¸­ä¿ç•™çŠ¶æ€ã€‚æ¯ä¸ª loader è¿è¡Œæ—¶åº”è¯¥ç¡®ä¿ä¸å…¶ä»–ç¼–è¯‘å¥½çš„æ¨¡å—ä¿æŒç‹¬ç«‹ï¼ŒåŒæ ·ä¹Ÿåº”è¯¥ä¸å‰å‡ ä¸ª loader å¯¹ç›¸åŒæ¨¡å—çš„ç¼–è¯‘ç»“æœä¿æŒç‹¬ç«‹ã€‚\n"),r("a",{attrs:{name:"ayGdN"}})]),e._v(" "),r("h3",{attrs:{id:"_5-ä½¿ç”¨-loader-å®ç”¨å·¥å…·"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-ä½¿ç”¨-loader-å®ç”¨å·¥å…·","aria-hidden":"true"}},[e._v("#")]),e._v(" 5.ä½¿ç”¨ Loader å®ç”¨å·¥å…·")]),e._v(" "),r("p",[e._v("è¯·å¥½å¥½åˆ©ç”¨ "),r("code",[e._v("loader-utils")]),e._v(" åŒ…ï¼Œå®ƒæä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„å·¥å…·ï¼Œæœ€å¸¸ç”¨çš„ä¸€ä¸ªå°±æ˜¯è·å–ä¼ å…¥ loader çš„ optionsã€‚é™¤äº† "),r("code",[e._v("loader-utils")]),e._v(" ä¹‹å¤–åŒ…è¿˜æœ‰ "),r("code",[e._v("schema-utils")]),e._v(" åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ "),r("code",[e._v("schema-utils")]),e._v(" æä¾›çš„å·¥å…·ï¼Œè·å–ç”¨äºæ ¡éªŒ options çš„ JSON Schema å¸¸é‡ï¼Œä»è€Œæ ¡éªŒ loader optionsã€‚ä¸‹é¢ç»™å‡ºçš„ä¾‹å­ç®€è¦åœ°ç»“åˆäº†ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªå·¥å…·åŒ…ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { getOptions } from 'loader-utils';\nimport { validateOptions } from 'schema-utils';\nconst schema = {\n  type: object,\n  properties: {\n    test: {\n      type: string\n    }\n  }\n}\nexport default function(source) {\n    const options = getOptions(this);\n    validateOptions(schema, options, 'Example Loader');\n    // åœ¨è¿™é‡Œå†™è½¬æ¢ source çš„é€»è¾‘ ...\n    return `export default ${ JSON.stringify(source) }`;\n};\nå¤åˆ¶ä»£ç \n")])])]),r("p",[r("a",{attrs:{name:"NtjkV"}})]),e._v(" "),r("h3",{attrs:{id:"loader-çš„ä¾èµ–"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loader-çš„ä¾èµ–","aria-hidden":"true"}},[e._v("#")]),e._v(" loader çš„ä¾èµ–")]),e._v(" "),r("p",[e._v("å¦‚æœæˆ‘ä»¬åœ¨ loader ä¸­ç”¨åˆ°äº†å¤–éƒ¨èµ„æºï¼ˆä¹Ÿå°±æ˜¯ä»æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–çš„èµ„æºï¼‰ï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜è¿™äº›å¤–éƒ¨èµ„æºçš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç”¨äºåœ¨ç›‘æ§æ¨¡å¼ï¼ˆwatch modeï¼‰ä¸‹éªŒè¯å¯ç¼“å­˜çš„ loder ä»¥åŠé‡æ–°ç¼–è¯‘ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ç®€è¦åœ°è¯´æ˜äº†æ€ä¹ˆä½¿ç”¨ "),r("code",[e._v("addDependency")]),e._v(" æ–¹æ³•æ¥åšåˆ°ä¸Šé¢è¯´çš„äº‹æƒ…ã€‚\nloader.jsï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import path from 'path';\nexport default function(source) {\n    var callback = this.async();\n    var headerPath = path.resolve('header.js');\n    this.addDependency(headerPath);\n    fs.readFile(headerPath, 'utf-8', function(err, header) {\n        if(err) return callback(err);\n        //è¿™é‡Œçš„ callback ç›¸å½“äºå¼‚æ­¥ç‰ˆçš„ return\n        callback(null, header + \"\\n\" + source);\n    });\n};\nå¤åˆ¶ä»£ç \n")])])]),r("p",[r("a",{attrs:{name:"I49Ok"}})]),e._v(" "),r("h3",{attrs:{id:"æ¨¡å—ä¾èµ–"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—ä¾èµ–","aria-hidden":"true"}},[e._v("#")]),e._v(" æ¨¡å—ä¾èµ–")]),e._v(" "),r("p",[e._v("ä¸åŒçš„æ¨¡å—ä¼šä»¥ä¸åŒçš„å½¢å¼æŒ‡å®šä¾èµ–ã€‚æ¯”å¦‚åœ¨ CSS ä¸­æˆ‘ä»¬ä½¿ç”¨ "),r("code",[e._v("@import")]),e._v(" å’Œ "),r("code",[e._v("url(...)")]),e._v(" å£°æ˜æ¥å®ŒæˆæŒ‡å®šï¼Œè€Œæˆ‘ä»¬åº”è¯¥è®©æ¨¡å—ç³»ç»Ÿè§£æè¿™äº›ä¾èµ–ã€‚"),r("br"),e._v("å¦‚ä½•è®©æ¨¡å—ç³»ç»Ÿè§£æä¸åŒå£°æ˜æ–¹å¼çš„ä¾èµ–å‘¢ï¼Ÿä¸‹é¢æœ‰ä¸¤ç§æ–¹æ³•ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("æŠŠä¸åŒçš„ä¾èµ–å£°æ˜ç»Ÿä¸€è½¬åŒ–ä¸º "),r("code",[e._v("require")]),e._v(" å£°æ˜ã€‚")]),e._v(" "),r("li",[e._v("é€šè¿‡ "),r("code",[e._v("this.resolve")]),e._v(" å‡½æ•°æ¥è§£æè·¯å¾„ã€‚")])]),e._v(" "),r("p",[e._v("å¯¹äºç¬¬ä¸€ç§æ–¹å¼ï¼Œæœ‰ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­å°±æ˜¯ "),r("code",[e._v("css-loader")]),e._v("ã€‚å®ƒæŠŠ "),r("code",[e._v("@import")]),e._v(" å£°æ˜è½¬åŒ–ä¸º "),r("code",[e._v("require")]),e._v(" æ ·å¼è¡¨æ–‡ä»¶ï¼ŒæŠŠ "),r("code",[e._v("url(...)")]),e._v(" å£°æ˜è½¬åŒ–ä¸º "),r("code",[e._v("require")]),e._v(" è¢«å¼•ç”¨æ–‡ä»¶ã€‚"),r("br"),e._v("è€Œå¯¹äºç¬¬äºŒç§æ–¹å¼ï¼Œåˆ™éœ€è¦å‚è€ƒä¸€ä¸‹ "),r("code",[e._v("less-loader")]),e._v("ã€‚ç”±äºè¦è¿½è¸ª less ä¸­çš„å˜é‡å’Œ mixinï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ‰€æœ‰çš„ "),r("code",[e._v(".less")]),e._v(" æ–‡ä»¶ä¸€æ¬¡ç¼–è¯‘å®Œæ¯•ï¼Œæ‰€ä»¥ä¸èƒ½æŠŠæ¯ä¸ª "),r("code",[e._v("@import")]),e._v(" è½¬ä¸º "),r("code",[e._v("require")]),e._v("ã€‚å› æ­¤ï¼Œ"),r("code",[e._v("less-loader")]),e._v(" ç”¨è‡ªå®šä¹‰è·¯å¾„è§£æé€»è¾‘æ‹“å±•äº† less ç¼–è¯‘å™¨ã€‚è¿™ç§æ–¹å¼è¿ç”¨äº†æˆ‘ä»¬åˆšæ‰æåˆ°çš„ç¬¬äºŒç§æ–¹å¼ â€”â€” "),r("code",[e._v("this.resolve")]),e._v(" é€šè¿‡ webpack æ¥è§£æä¾èµ–ã€‚")]),e._v(" "),r("blockquote",[r("p",[e._v("å¦‚æœæŸç§è¯­è¨€åªæ”¯æŒç›¸å¯¹è·¯å¾„ï¼ˆä¾‹å¦‚ "),r("code",[e._v("url(file)")]),e._v(" æŒ‡å‘ "),r("code",[e._v("./file")]),e._v("ï¼‰ã€‚ä½ å¯ä»¥ç”¨ "),r("code",[e._v("~")]),e._v(" å°†ç›¸å¯¹è·¯å¾„æŒ‡å‘æŸä¸ªå·²ç»å®‰è£…å¥½çš„ç›®å½•ï¼ˆä¾‹å¦‚ "),r("code",[e._v("node_modules")]),e._v("ï¼‰ä¸‹ï¼Œå› æ­¤ï¼Œæ‹¿ "),r("code",[e._v("url")]),e._v(" ä¸¾ä¾‹ï¼Œå®ƒçœ‹èµ·æ¥ä¼šå˜æˆè¿™æ ·ï¼š"),r("code",[e._v("url(~some-library/image.jpg)")]),e._v("ã€‚")])]),e._v(" "),r("p",[r("a",{attrs:{name:"WdP0N"}})]),e._v(" "),r("h3",{attrs:{id:"ä»£ç å…¬ç”¨"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç å…¬ç”¨","aria-hidden":"true"}},[e._v("#")]),e._v(" ä»£ç å…¬ç”¨")]),e._v(" "),r("p",[e._v("é¿å…åœ¨å¤šä¸ª loader é‡Œé¢åˆå§‹åŒ–åŒæ ·çš„ä»£ç ï¼Œè¯·æŠŠè¿™äº›å…±ç”¨ä»£ç æå–åˆ°ä¸€ä¸ªè¿è¡Œæ—¶æ–‡ä»¶é‡Œï¼Œç„¶åé€šè¿‡ "),r("code",[e._v("require")]),e._v(" æŠŠå®ƒå¼•è¿›æ¯ä¸ª loaderã€‚\n"),r("a",{attrs:{name:"PQHnl"}})]),e._v(" "),r("h3",{attrs:{id:"ç»å¯¹è·¯å¾„"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç»å¯¹è·¯å¾„","aria-hidden":"true"}},[e._v("#")]),e._v(" ç»å¯¹è·¯å¾„")]),e._v(" "),r("p",[e._v("ä¸è¦åœ¨ loader æ¨¡å—é‡Œå†™ç»å¯¹è·¯å¾„ï¼Œå› ä¸ºå½“é¡¹ç›®æ ¹è·¯å¾„å˜äº†ï¼Œè¿™äº›è·¯å¾„ä¼šå¹²æ‰° webpack è®¡ç®— hashï¼ˆæŠŠ module çš„è·¯å¾„è½¬åŒ–ä¸º module çš„å¼•ç”¨ idï¼‰ã€‚"),r("code",[e._v("loader-utils")]),e._v(" é‡Œæœ‰ä¸€ä¸ª "),r("code",[e._v("stringifyRequest")]),e._v(" æ–¹æ³•ï¼Œå®ƒå¯ä»¥æŠŠç»å¯¹è·¯å¾„è½¬åŒ–ä¸ºç›¸å¯¹è·¯å¾„ã€‚\n"),r("a",{attrs:{name:"tu4FY"}})]),e._v(" "),r("h3",{attrs:{id:"åŒä¼´ä¾èµ–"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#åŒä¼´ä¾èµ–","aria-hidden":"true"}},[e._v("#")]),e._v(" åŒä¼´ä¾èµ–")]),e._v(" "),r("p",[e._v("å¦‚æœä½ å¼€å‘çš„ loader åªæ˜¯ç®€å•åŒ…è£…å¦å¤–ä¸€ä¸ªåŒ…ï¼Œé‚£ä¹ˆä½ åº”è¯¥åœ¨ package.json ä¸­å°†è¿™ä¸ªåŒ…è®¾ä¸ºåŒä¼´ä¾èµ–ï¼ˆpeerDependencyï¼‰ã€‚è¿™å¯ä»¥è®©åº”ç”¨å¼€å‘è€…çŸ¥é“è¯¥æŒ‡å®šå“ªä¸ªå…·ä½“çš„ç‰ˆæœ¬ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹æ‰€ç¤º "),r("code",[e._v("sass-loader")]),e._v(" å°† "),r("code",[e._v("node-sass")]),e._v(" æŒ‡å®šä¸ºåŒä¼´ä¾èµ–ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('"peerDependencies": {\n  "node-sass": "^4.0.0"\n}\nå¤åˆ¶ä»£ç \n')])])]),r("p",[r("a",{attrs:{name:"KSubv"}})]),e._v(" "),r("h2",{attrs:{id:"talk-is-cheep"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#talk-is-cheep","aria-hidden":"true"}},[e._v("#")]),e._v(" Talk is cheep")]),e._v(" "),r("p",[e._v("ä»¥ä¸Šæˆ‘ä»¬å·²ç»ä¸ºç æŸ´ç£¨å¥½äº†åˆ€ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŠ¨æ‰‹å¼€å‘ä¸€ä¸ª loaderã€‚"),r("br"),e._v("å¦‚æœæˆ‘ä»¬è¦åœ¨é¡¹ç›®å¼€å‘ä¸­å¼•ç”¨æ¨¡ç‰ˆæ–‡ä»¶ï¼Œé‚£ä¹ˆå‹ç¼© html æ˜¯ååˆ†å¸¸è§çš„éœ€æ±‚ã€‚åˆ†è§£ä»¥ä¸Šéœ€æ±‚ï¼Œè§£ææ¨¡ç‰ˆã€å‹ç¼©æ¨¡ç‰ˆå…¶å®å¯ä»¥æ‹†åˆ†ç»™ä¸¤ç»™ loader æ¥åšï¼ˆå•ä¸€èŒè´£ï¼‰ï¼Œå‰è€…è¾ƒä¸ºå¤æ‚ï¼Œæˆ‘ä»¬å°±å¼•å…¥å¼€æºåŒ… "),r("code",[e._v("html-loader")]),e._v("ï¼Œè€Œåè€…ï¼Œæˆ‘ä»¬å°±æ‹¿æ¥ç»ƒæ‰‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç»™å®ƒå–ä¸ªå“äº®çš„åå­— â€”â€” "),r("code",[e._v("html-minify-loader")]),e._v("ã€‚"),r("br"),e._v("æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§ä¹‹å‰ä»‹ç»çš„æ­¥éª¤ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬åº”è¯¥é…ç½® "),r("code",[e._v("webpack.config.js")]),e._v(" ï¼Œè®© webpack èƒ½è¯†åˆ«æˆ‘ä»¬çš„ loaderã€‚å½“ç„¶ï¼Œæœ€æœ€å¼€å§‹ï¼Œæˆ‘ä»¬è¦åˆ›å»º loader çš„ æ–‡ä»¶ â€”â€” "),r("code",[e._v("src/loaders/html-minify-loader.js")]),e._v("ã€‚"),r("br"),e._v("äºæ˜¯ï¼Œæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­è¿™æ ·å¤„ç†ï¼š\n"),r("code",[e._v("webpack.config.js")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("module: {\n    rules: [{\n        test: /\\.html$/,\n        use: ['html-loader', 'html-minify-loader'] // å¤„ç†é¡ºåº html-minify-loader => html-loader => webpack\n    }]\n},\nresolveLoader: {\n    // å› ä¸º html-loader æ˜¯å¼€æº npm åŒ…ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ·»åŠ  'node_modules' ç›®å½•\n    modules: [path.join(__dirname, './src/loaders'), 'node_modules']\n}\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æä¾›ç¤ºä¾‹ html å’Œ js æ¥æµ‹è¯• loaderï¼š"),r("br"),r("code",[e._v("src/example.html")]),e._v("ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n</head>\n<body>\n    \n</body>\n</html>\nå¤åˆ¶ä»£ç \n')])])]),r("p",[r("code",[e._v("src/app.js")]),e._v("ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("var html = require('./expamle.html');\nconsole.log(html);\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬ç€æ‰‹å¤„ç† "),r("code",[e._v("src/loaders/html-minify-loader.js")]),e._v("ã€‚å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œloader ä¹Ÿæ˜¯ä¸€ä¸ª node æ¨¡å—ï¼Œå®ƒå¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°æ˜¯ require çš„æºæ¨¡å—ï¼Œå¤„ç† source åæŠŠè¿”å›å€¼äº¤ç»™ä¸‹ä¸€ä¸ª loaderã€‚æ‰€ä»¥å®ƒçš„ â€œæ¨¡ç‰ˆâ€ åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("module.exports = function (source) {\n    // å¤„ç† source ...\n    return handledSource;\n}\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("æˆ–")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("module.exports = function (source) {\n    // å¤„ç† source ...\n    this.callback(null, handledSource)\n    return handledSource;\n}\nå¤åˆ¶ä»£ç \n")])])]),r("blockquote",[r("p",[e._v("æ³¨æ„ï¼šå¦‚æœæ˜¯å¤„ç†é¡ºåºæ’åœ¨æœ€åä¸€ä¸ªçš„ loaderï¼Œé‚£ä¹ˆå®ƒçš„è¿”å›å€¼å°†æœ€ç»ˆäº¤ç»™ webpack çš„ "),r("code",[e._v("require")]),e._v("ï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒä¸€å®šæ˜¯ä¸€æ®µå¯æ‰§è¡Œçš„ JS è„šæœ¬ ï¼ˆç”¨å­—ç¬¦ä¸²æ¥å­˜å‚¨ï¼‰ï¼Œæ›´å‡†ç¡®æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ª node æ¨¡å—çš„ JS è„šæœ¬ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// å¤„ç†é¡ºåºæ’åœ¨æœ€åçš„ loader\nmodule.exports = function (source) {\n    // è¿™ä¸ª loader çš„åŠŸèƒ½æ˜¯æŠŠæºæ¨¡å—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²äº¤ç»™ require çš„è°ƒç”¨æ–¹\n    return 'module.exports = ' + JSON.stringify(source);\n}\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("æ•´ä¸ªè¿‡ç¨‹ç›¸å½“äºè¿™ä¸ª loader æŠŠæºæ–‡ä»¶")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("è¿™é‡Œæ˜¯ source æ¨¡å—\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("è½¬åŒ–ä¸º")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// example.js\nmodule.exports = 'è¿™é‡Œæ˜¯ source æ¨¡å—';\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("ç„¶åäº¤ç»™ require è°ƒç”¨æ–¹ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// applySomeModule.js\nvar source = require('example.js'); \nconsole.log(source); // è¿™é‡Œæ˜¯ source æ¨¡å—\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("è€Œæˆ‘ä»¬æœ¬æ¬¡ä¸²è”çš„ä¸¤ä¸ª loader ä¸­ï¼Œè§£æ html ã€è½¬åŒ–ä¸º JS æ‰§è¡Œè„šæœ¬çš„ä»»åŠ¡å·²ç»äº¤ç»™ "),r("code",[e._v("html-loader")]),e._v(" äº†ï¼Œæˆ‘ä»¬æ¥å¤„ç† html å‹ç¼©é—®é¢˜ã€‚"),r("br"),e._v("ä½œä¸ºæ™®é€š node æ¨¡å—çš„ loader å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚æˆ‘ä»¬ä½¿ç”¨ "),r("code",[e._v("minimize")]),e._v(" è¿™ä¸ªåº“æ¥å®Œæˆæ ¸å¿ƒçš„å‹ç¼©åŠŸèƒ½ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// src/loaders/html-minify-loader.js\nvar Minimize = require('minimize');\nmodule.exports = function(source) {\n    var minimize = new Minimize();\n    return minimize.parse(source);\n};\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("å½“ç„¶ï¼Œ minimize åº“æ”¯æŒä¸€ç³»åˆ—çš„å‹ç¼©å‚æ•°ï¼Œæ¯”å¦‚ comments å‚æ•°æŒ‡å®šæ˜¯å¦éœ€è¦ä¿ç•™æ³¨é‡Šã€‚æˆ‘ä»¬è‚¯å®šä¸èƒ½åœ¨ loader é‡Œå†™æ­»è¿™äº›é…ç½®ã€‚é‚£ä¹ˆ "),r("code",[e._v("loader-utils")]),e._v(" å°±è¯¥å‘æŒ¥ä½œç”¨äº†ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// src/loaders/html-minify-loader.js\nvar loaderUtils = require('loader-utils');\nvar Minimize = require('minimize');\nmodule.exports = function(source) {\n    var options = loaderUtils.getOptions(this) || {}; //è¿™é‡Œæ‹¿åˆ° webpack.config.js çš„ loader é…ç½®\n    var minimize = new Minimize(options);\n    return minimize.parse(source);\n};\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ webpack.config.js ä¸­è®¾ç½®å‹ç¼©åæ˜¯å¦éœ€è¦ä¿ç•™æ³¨é‡Šï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("module: {\n        rules: [{\n            test: /\\.html$/,\n            use: ['html-loader', {\n                loader: 'html-minify-loader',\n                options: {\n                    comments: false\n                }\n            }] \n        }]\n    },\n    resolveLoader: {\n        // å› ä¸º html-loader æ˜¯å¼€æº npm åŒ…ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ·»åŠ  'node_modules' ç›®å½•\n        modules: [path.join(__dirname, './src/loaders'), 'node_modules']\n    }\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥æŠŠæˆ‘ä»¬çš„ loader å†™æˆå¼‚æ­¥çš„æ–¹å¼ï¼Œè¿™æ ·ä¸ä¼šé˜»å¡å…¶ä»–ç¼–è¯‘è¿›åº¦ï¼š")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("var Minimize = require('minimize');\nvar loaderUtils = require('loader-utils');\nmodule.exports = function(source) {\n    var callback = this.async();\n    if (this.cacheable) {\n        this.cacheable();\n    }\n    var opts = loaderUtils.getOptions(this) || {};\n    var minimize = new Minimize(opts);\n    minimize.parse(source, callback);\n};\nå¤åˆ¶ä»£ç \n")])])]),r("p",[e._v("ä½ å¯ä»¥åœ¨"),r("a",{attrs:{href:"https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fikcamp%2FHow-to-write-a-loader-demo",target:"_blank",rel:"noopener noreferrer"}},[e._v("è¿™ä¸ªä»“åº“"),r("OutboundLink")],1),e._v("æŸ¥çœ‹ç›¸å…³ä»£ç ï¼Œ"),r("code",[e._v("npm start")]),e._v(" ä»¥åå¯ä»¥å» "),r("code",[e._v("http://localhost:9000")]),e._v(" æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹ loader å¤„ç†åçš„å†…å®¹ã€‚\n"),r("a",{attrs:{name:"tCuQZ"}})]),e._v(" "),r("h2",{attrs:{id:"æ€»ç»“"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“","aria-hidden":"true"}},[e._v("#")]),e._v(" æ€»ç»“")]),e._v(" "),r("p",[e._v("åˆ°è¿™é‡Œï¼Œå¯¹äºã€Œå¦‚ä½•å¼€å‘ä¸€ä¸ª loaderã€ï¼Œæˆ‘ç›¸ä¿¡ä½ å·²ç»æœ‰äº†è‡ªå·±çš„ç­”æ¡ˆã€‚æ€»ç»“ä¸€ä¸‹ï¼Œä¸€ä¸ª loader åœ¨æˆ‘ä»¬é¡¹ç›®ä¸­ work éœ€è¦ç»å†ä»¥ä¸‹æ­¥éª¤ï¼š")]),e._v(" "),r("ul",[r("li",[e._v("åˆ›å»º loader çš„ç›®å½•åŠæ¨¡å—æ–‡ä»¶")]),e._v(" "),r("li",[e._v("åœ¨ webpack ä¸­é…ç½® rule åŠ loader çš„è§£æè·¯å¾„ï¼Œå¹¶ä¸”è¦æ³¨æ„ loader çš„é¡ºåºï¼Œè¿™æ ·åœ¨ "),r("code",[e._v("require")]),e._v(" æŒ‡å®šç±»å‹æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬èƒ½è®©å¤„ç†æµç»è¿‡æŒ‡å®š laoderã€‚")]),e._v(" "),r("li",[e._v("éµå¾ªåŸåˆ™è®¾è®¡å’Œå¼€å‘ loaderã€‚")])]),e._v(" "),r("p",[e._v("æœ€åï¼ŒTalk is cheepï¼Œèµ¶ç´§åŠ¨æ‰‹æ’¸ä¸€ä¸ª loader è€è€å§ï½")]),e._v(" "),r("hr"),e._v(" "),r("h2",{attrs:{id:"å…¬ä¼—å·"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å…¬ä¼—å·","aria-hidden":"true"}},[e._v("#")]),e._v(" å…¬ä¼—å·")]),e._v(" "),r("p",[e._v("æƒ³è¦å®æ—¶å…³æ³¨ç¬”è€…æœ€æ–°çš„æ–‡ç« å’Œæœ€æ–°çš„æ–‡æ¡£æ›´æ–°è¯·å…³æ³¨å…¬ä¼—å·"),r("strong",[e._v("ç¨‹åºå‘˜")]),e._v("å®˜**,åç»­çš„æ–‡ç« ä¼šä¼˜å…ˆåœ¨å…¬ä¼—å·æ›´æ–°.")]),e._v(" "),r("p",[r("strong",[e._v("ç®€å†æ¨¡æ¿:")]),e._v(" å…³æ³¨å…¬ä¼—å·å›å¤ã€Œæ¨¡æ¿ã€è·å–")]),e._v(" "),r("p",[r("strong",[e._v("ã€Šå‰ç«¯")]),e._v("æ‰‹å†Œã€‹ğŸ˜—* é…å¥—äºæœ¬æŒ‡å—çš„çªå‡»æ‰‹å†Œ,å…³æ³¨å…¬ä¼—å·å›å¤ã€Œfedã€è·å–")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://xiaomuzhu-image.oss-cn-beijing.aliyuncs.com/d846f65d5025c4b6c4619662a0669503.png",alt:"2019-08-12-03-18-41"}})])])},[],!1,null,null,null);a.default=s.exports}}]);