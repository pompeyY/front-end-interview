(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{263:function(a,t,e){"use strict";e.r(t);var n=e(4),s=Object(n.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"webpack-æ’ä»¶åŒ–è®¾è®¡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-æ’ä»¶åŒ–è®¾è®¡","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack æ’ä»¶åŒ–è®¾è®¡")]),a._v(" "),e("p",[a._v("ç‚¹å‡»å…³æ³¨æœ¬"),e("a",{attrs:{href:"#%E5%85%AC%E4%BC%97%E5%8F%B7"}},[a._v("å…¬ä¼—å·")]),a._v("è·å–æ–‡æ¡£æœ€æ–°æ›´æ–°,å¹¶å¯ä»¥é¢†å–é…å¥—äºæœ¬æŒ‡å—çš„ "),e("strong",[a._v("ã€Šå‰ç«¯")]),a._v("æ‰‹å†Œã€‹** ä»¥åŠ"),e("strong",[a._v("æœ€æ ‡å‡†çš„ç®€å†æ¨¡æ¿")]),a._v(".")]),a._v(" "),e("p",[a._v("æœ¬æ–‡æ¥æºäºé¥¿äº†ä¹ˆå‰ç«¯å›¢é˜Ÿ"),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/26955349",target:"_blank",rel:"noopener noreferrer"}},[a._v("ä» Bundle æ–‡ä»¶çœ‹ Webpack æ¨¡å—æœºåˆ¶"),e("OutboundLink")],1)]),a._v(" "),e("hr"),a._v(" "),e("h2",{attrs:{id:"å‰è¨€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€","aria-hidden":"true"}},[a._v("#")]),a._v(" å‰è¨€")]),a._v(" "),e("p",[a._v("åœ¨ä¸“æ ä¹‹å‰çš„ä¸€ç¯‡Â "),e("router-link",{attrs:{to:"/guide/webpackMoudle.html"}},[a._v("ã€Šä» Bundle æ–‡ä»¶çœ‹ Webpack æ¨¡å—æœºåˆ¶ã€‹")]),a._v("ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ç»è¿‡ Webpack æ„å»ºä¹‹åçš„ä»£ç æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå­¦ä¹ äº†å…¶æ¨¡å—åŒ–çš„å®ç°åŸç†ï¼Œä»Šå¤©å°†å¸¦å¤§å®¶èµ°è¿› Webpack çš„æœ¬ä½“è®¾è®¡ä¸­å»ï¼Œä»å®è§‚çš„è§’åº¦è§‚å¯Ÿå…¶å†…éƒ¨çš„è¿è¡Œå’Œå®ç°ã€‚"),e("br"),a._v("Webpack ä»£ç è¾ƒä¸ºå¤æ‚ï¼Œå…¶åœ¨å†…éƒ¨é«˜åº¦ä½¿ç”¨äº‹ä»¶é€šä¿¡å’Œæ’ä»¶åŒ–çš„æœºåˆ¶æ¥å®ç°ä»£ç è§£è€¦åŠå·¥ä½œæµç¨‹çš„æ§åˆ¶ã€‚æœ¬æ–‡å°†ä»¥ Webpack çš„ 2.3.3 ç‰ˆæœ¬ä¸ºä¾‹è¿›è¡Œç›¸å…³æ¼”ç¤ºã€‚\n"),e("a",{attrs:{name:"8DsKr"}})],1),a._v(" "),e("h2",{attrs:{id:"äº‹ä»¶ç³»ç»Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶ç³»ç»Ÿ","aria-hidden":"true"}},[a._v("#")]),a._v(" äº‹ä»¶ç³»ç»Ÿ")]),a._v(" "),e("p",[a._v("è¯´èµ·äº‹ä»¶ï¼Œè‡ªç„¶å°‘ä¸äº†å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼ŒWebpack çš„åŸºç¡€ç»„ä»¶ä¹‹ä¸€Â "),e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//github.com/webpack/tapable",target:"_blank",rel:"noopener noreferrer"}},[a._v("Tapable"),e("OutboundLink")],1),a._v("Â æ˜¯ä¸ºå…¶é‡èº«å®šåšçš„ â€œEventEmitterâ€ï¼Œä½†å®ƒä¸åªæ˜¯å•çº¯çš„äº‹ä»¶ä¸­æ¢ï¼Œè¿˜ç›¸åº”è¡¥å……äº†å¯¹äº‹ä»¶æµç¨‹çš„æ§åˆ¶èƒ½åŠ›ï¼Œå¢åŠ å¦‚ waterfall/parallel ç³»åˆ—æ–¹æ³•ï¼Œå®ç°äº†å¼‚æ­¥/å¹¶è¡Œç­‰äº‹ä»¶æµçš„æ§åˆ¶èƒ½åŠ›ã€‚"),e("br"),a._v("ä»¥ä¸‹æˆªé€‰äº†å®ä¾‹çš„éƒ¨åˆ† APIï¼Œå…·ä½“å¯å‚é˜…æºç Â "),e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//github.com/webpack/tapable/blob/master/lib/Tapable.js",target:"_blank",rel:"noopener noreferrer"}},[a._v("[tapable/Tapable.js at master Â· webpack/tapable Â· GitHub]"),e("OutboundLink")],1),a._v("ï¼Œä»…ä¸‰ç™¾ä½™è¡Œã€‚"),e("br"),e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/128853/1565282493767-291c8866-507e-4965-bb9a-5f78c6cd5cc9.png#align=left&display=inline&height=446&originHeight=446&originWidth=599&size=0&status=done&width=599",alt:""}}),a._v("æ€»ä½“æ¥è¯´ï¼Œå¯åˆ†ä¸ºä¸‰ç±»æ–¹æ³•ï¼š")]),a._v(" "),e("ol",[e("li",[a._v("apply æä¾›ç»™æ’ä»¶çš„æ³¨å†Œä½¿ç”¨ã€‚")]),a._v(" "),e("li",[a._v("plugins æ³¨å†Œäº‹ä»¶ç›‘å¬ï¼Œæ¥å—äº‹ä»¶åç§°å’Œå¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚")]),a._v(" "),e("li",[a._v("applyPlugins[xx] ç³»åˆ—æ–¹æ³•ç”¨äº emit äº‹ä»¶ã€‚ç±»ä¼¼ applyPlugins0, applyPlugins1... è¿™æ ·åé¢çš„æ•°å­—ç”¨æ¥é™åˆ¶å¯¹åº”äº‹ä»¶å‡½æ•°å½¢å‚ä¸ªæ•°ï¼Œç±»ä¼¼å‚æ•°é™åˆ¶çš„å£°æ˜ä¿è¯äº†æ¥å£å£°æ˜çš„ä¸€è‡´æ€§ã€‚")])]),a._v(" "),e("p",[a._v("äº‹ä»¶æ³¨å†Œç›¸å…³æºç å¦‚ä¸‹ï¼Œæ³¨å†Œçš„äº‹ä»¶ç»´æŠ¤åœ¨ _plugins å¯¹è±¡ä¸­ã€‚")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Tapable.prototype.plugin = function plugin(name, fn) {\n  if(Array.isArray(name)) {\n    name.forEach(function(name) {\n      this.plugin(name, fn);\n    }, this);\n    return;\n  }\n  if(!this._plugins[name]) this._plugins[name] = [fn];\n  else this._plugins[name].push(fn);\n};\nTapable.prototype.apply = function apply() {\n  for(var i = 0; i < arguments.length; i++) {\n    arguments[i].apply(this);\n  }\n};\n")])])]),e("p",[a._v("Webpack çš„æ ¸å¿ƒå¯¹è±¡ Compiler/Compilation éƒ½æ˜¯ Tapable çš„å­ç±»ï¼Œå„è‡ªåˆ†ç®¡è‡ªå·±çš„_pluginsã€‚ç”± Compiler æä¾›çš„Â "),e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//webpack.js.org/api/plugins/compiler/%23event-hooks",target:"_blank",rel:"noopener noreferrer"}},[a._v("Event Hook"),e("OutboundLink")],1),a._v("Â å¾€å¾€ä¹Ÿå¯¹åº”ç€ Bundle è¿‡ç¨‹çš„å„ç”Ÿå‘½å‘¨æœŸï¼Œä»ä¸­è·å¯ä»¥å–åˆ°å¯¹åº”é˜¶æ®µçš„ Compilation å¯¹è±¡å¼•ç”¨ï¼ŒCompilation æ˜¯ä¸»è¦çš„æ‰§è¡Œè€…ï¼Œåœ¨ç›¸åº”å‘¨æœŸä¸­è´Ÿè´£å„é¡¹å­ä»»åŠ¡ï¼Œå¹¶è§¦å‘æ›´ç»†ç²’åº¦çš„äº‹ä»¶ï¼ŒåŒæ—¶ä¿æŒç€å¯¹å¤„ç†ç»“æœçš„å¼•ç”¨ã€‚å¯¹äºå¼€å‘è€…ç¼–ç ä¸»è¦é›†ä¸­åœ¨ Compilation hook çš„å¤„ç†ä¸Šï¼Œç”¨äºæ•è·äº‹ä»¶ç»“æœè¿›è¡ŒäºŒæ¬¡æ”¹é€ ã€‚\n"),e("a",{attrs:{name:"7akMo"}})]),a._v(" "),e("h2",{attrs:{id:"æ’ä»¶åŒ–è®¾è®¡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ’ä»¶åŒ–è®¾è®¡","aria-hidden":"true"}},[a._v("#")]),a._v(" æ’ä»¶åŒ–è®¾è®¡")]),a._v(" "),e("p",[a._v("Webpack çš„æ’ä»¶ä¸äº‹ä»¶æ˜¯ç´§å¯†ç›¸è¿çš„ï¼Œæ’ä»¶çš„è®¾è®¡è®©ä»£ç é«˜åº¦èŒèƒ½åŒ–ï¼Œäº‹ä»¶å¦‚åŒä¸çº¿è¿æ¥ï¼Œå®Œæˆæ’ä»¶ä¸ä¸»ä½“ï¼ˆä¸»è¦ä¸º Compiler å’Œ Ccompilationï¼‰é—´çš„æµç¨‹å’Œæ•°æ®çš„åä½œã€‚"),e("br"),e("strong",[a._v("ä¸€ã€æ’ä»¶å®šä¹‰")]),e("br"),a._v("æ’ä»¶çš„æ¥å£ä¹Ÿæ˜¯éå¸¸ç®€å•ï¼Œä»…éœ€è¦å®ç°ä¸€ä¸ª apply æ–¹æ³•ï¼Œè¿™ä¸ Tapable çš„ apply æ–¹æ³•ç›¸å¯¹åº”ï¼Œå…·ä½“æ–‡æ¡£å¯å‚è€ƒå®˜æ–¹çš„Â "),e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//webpack.js.org/development/how-to-write-a-plugin/",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to write a plugin"),e("OutboundLink")],1),a._v("ã€‚"),e("br"),a._v("æˆ‘ä»¬æ¯å¤©éƒ½åœ¨ä½¿ç”¨å„ç§ Webpack Plugins å®Œæˆé¡¹ç›®çš„æ„å»ºï¼Œæœ‰æ—¶ä¹Ÿéœ€è¦è‡ªå·±ä¸ºé¡¹ç›®é‡èº«å®šåˆ¶ã€‚Webpack å†…éƒ¨æ’ä»¶ä¸è¿™äº›æ—¥å¸¸ä½¿ç”¨æ’ä»¶å®Œå…¨ç›¸åŒï¼Œä¸ä»…éµå¾ªä¸€è‡´çš„ API è®¾è®¡ï¼Œä¹Ÿå…±äº«ç›¸åŒçš„äº‹ä»¶å‘å¸ƒè€…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤–éƒ¨æ’ä»¶è§¦åŠåˆ° Bundle è¿‡ç¨‹çš„æ¯ä¸ªé˜¶æ®µï¼Œé«˜åº¦çš„æ‹“å±•æ€§ä¹Ÿæ˜¯ Webpack ç¤¾åŒºç¹è£çš„åŸºç¡€ä¹‹ä¸€ã€‚"),e("br"),e("strong",[a._v("äºŒã€æ’ä»¶æ³¨å†Œ")]),e("br"),a._v("æ’ä»¶æ³¨å†Œçš„å®è´¨æ˜¯æ’ä»¶å†…éƒ¨äº‹ä»¶çš„æ³¨å†Œã€‚æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å°†æ’ä»¶å®ä¾‹åŒ–ä»¥åå£°æ˜åœ¨é…ç½®çš„ plugins æ•°ç»„ä¸­ï¼ŒWebpack æ¥æ”¶æ­¤æ•°ç»„æ³¨å†Œæ¯ä¸ªæ’ä»¶ï¼š")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("if(options.plugins && Array.isArray(options.plugins)) {\n  compiler.apply.apply(compiler, options.plugins);\n}\n")])])]),e("p",[a._v("Compiler.apply é¡ºåºè°ƒç”¨å„æ’ä»¶çš„ apply æ–¹æ³•å¹¶ä¼ å…¥ Compilation è¿è¡Œæ—¶å¯¹è±¡ä½œä¸ºå”¯ä¸€çš„å‚æ•°ï¼Œæ–¹æ³•å†…éƒ¨è°ƒç”¨ Compiler/Compilation çš„ plugin æ–¹æ³•å®Œæˆäº‹ä»¶ç›‘å¬çš„æ³¨å†Œã€‚\n"),e("a",{attrs:{name:"Ij2tr"}})]),a._v(" "),e("h2",{attrs:{id:"æ‰§è¡Œå®ä¾‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œå®ä¾‹","aria-hidden":"true"}},[a._v("#")]),a._v(" æ‰§è¡Œå®ä¾‹")]),a._v(" "),e("p",[a._v("ä¸‹é¢æˆ‘ä»¬é€‰å– Webpack æ¨¡å—çƒ­æ›´æ–°è¿™ä¸€è¿‡ç¨‹ä¸ºä¾‹ï¼Œäº†è§£ä¸€ä¸‹äº‹ä»¶ä¸æ’ä»¶ç³»ç»Ÿåœ¨å¼€å‘å®è·µä¸­çš„åº”ç”¨ä¸è¡¨ç°ã€‚"),e("br"),a._v("è¦å¼€å¯çƒ­æ›´æ–°ï¼Œéœ€è¦åœ¨é…ç½®å¯¹è±¡ä¸­å£°æ˜ webpack.HotModuleReplacementPlugin çš„å®ä¾‹ã€‚å¯ä»¥çœ‹å‡ºï¼Œçƒ­æ›´æ–°åŠŸèƒ½åŒæ ·ä½œä¸ºä¸€ä¸ªå†…ç½®æ’ä»¶æ‹“å±•åœ¨æœ¬ä½“ä¸­ï¼Œç›¸åº”æ–‡ä»¶ä½äº /lib/HotModuleReplacementPlugin.jsã€‚åœ¨æ­¤é˜¶æ®µæ‰€å‘ç”Ÿçš„äº‹ä»¶è°ƒç”¨æµå¤§è‡´å¦‚ä¸‹ï¼š")]),a._v(" "),e("ul",[e("li",[a._v('åˆ¤æ–­æ˜¯å¦è¾“å‡º assetsï¼šapplyPluginsBailResult - "should-generate-chunk-assets"')]),a._v(" "),e("li",[a._v('è¾“å‡ºå‰çš„ Before äº‹ä»¶ï¼šapplyPlugins0 - "before-chunk-assets"')]),a._v(" "),e("li",[a._v('è¾“å‡ºç»“æŸï¼šapplyPlugins2 - "chunk-asset"')]),a._v(" "),e("li",[a._v('é™„åŠ çš„ assets å¤„ç†é˜¶æ®µï¼šapplyPlugins1 - "additional-chunk-assets"')]),a._v(" "),e("li",[a._v('è‹¥é™„åŠ é˜¶æ®µå¯¹éœ€è¦å¯¹ assets è¿›è¡Œæ“ä½œåˆ™å†æ¬¡è§¦å‘ï¼šapplyPlugins - "chunk-asset"')])]),a._v(" "),e("p",[a._v("Webpack çš„ watch æ–‡ä»¶å˜åŠ¨åè§¦å‘ä¸€è½®æ–°çš„ buildModuleï¼Œç”Ÿæˆ chunk åå†æ¬¡è°ƒç”¨ Compilation.createChunkAssets æ–¹æ³•æ›´æ–° assets å¯¹è±¡ï¼Œè§¦å‘ â€œchunk-assetsâ€ äº‹ä»¶ï¼Œç´§è·Ÿç€ä¼šè§¦å‘â€œadditional-chunk-assetsâ€äº‹ä»¶ï¼Œç›®å‰æºç ä¸­ä»…æœ‰ HotModuleReplacementPlugin ç›‘å¬ â€œadditional-chunk-assetsâ€ äº‹ä»¶ï¼Œäºæ˜¯æ‰§è¡Œæƒè½¬ç§»ç»™æ­¤æ’ä»¶ã€‚åœ¨æ’ä»¶å†…éƒ¨ï¼Œé€šè¿‡ Compilation å¯¹è±¡è·å–åˆ°æœ¬è½® build çš„ chunk ä¿¡æ¯ï¼Œç­›é€‰å‡ºæ›´æ–°å’Œç§»é™¤çš„ module äº¤ç”± Template å¯¹è±¡ç”Ÿæˆ hot-update.js çš„æºä»£ç ä½œä¸ºæ–°çš„ chunk åŠ å…¥åˆ° assets ä¸­ã€‚"),e("br"),a._v("å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡è€ƒé‡ä¸Šï¼ŒWebpack å¹¶ä¸åªå±€é™äºæ»¡è¶³è‡ªèº«çš„å®ç°ï¼Œè¿˜å°½å¯èƒ½ç«™åœ¨ç³»ç»Ÿæ‹“å±•çš„è§’åº¦æŠŠæ§ã€‚å¦‚å‰æ–‡æ‰€è¿°çš„ â€œchunk-assetsâ€ äº‹ä»¶å…¶è‡ªèº«å¹¶æ²¡æœ‰æ³¨å†Œç›¸åº”çš„å›è°ƒå‡½æ•°ï¼Œä½†ä»ç„¶ä¿ç•™è¿™ä¸€äº‹ä»¶çš„è§¦å‘ï¼Œä¼ é€’å½“å‰é˜¶æ®µ chunk å¯¹è±¡çš„å¼•ç”¨å’Œå¯¹åº”çš„ chunk æ–‡ä»¶åï¼Œæœ‰éœ€æ±‚çš„å¼€å‘è€…å¯ä»¥é€šè¿‡è¿™ä¸ª hook å¯¹ assets è¿›è¡ŒäºŒæ¬¡å¼€å‘, ç±»ä¼¼ç»†èŠ‚è¿˜æœ‰å¾ˆå¤šã€‚\n"),e("a",{attrs:{name:"KYNZK"}})]),a._v(" "),e("h2",{attrs:{id:"æ€»ç»“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“","aria-hidden":"true"}},[a._v("#")]),a._v(" æ€»ç»“")]),a._v(" "),e("p",[a._v("åœ¨äº‹ä»¶æœºåˆ¶é©±åŠ¨ä¸‹ï¼Œé€šè¿‡è‰¯å¥½çš„ API çº¦å®šï¼Œç®€æ´çš„æ’ä»¶ç³»ç»Ÿè®¾è®¡ï¼ŒWebpack åœ¨å®Œæˆè‡ªèº«ç¹é‡çš„æ„å»ºä»»åŠ¡åŒæ—¶ï¼Œè¿˜æä¾›äº†è‰¯å¥½çš„æ‹“å±•æ€§åŠå¯æµ‹è¯•æ€§ã€‚ç„¶è€Œäº‹ä»¶æœºåˆ¶å¹¶ä¸æ˜¯ä¸‡é‡‘æ²¹ï¼Œå¦‚é€šè¿‡äº‹ä»¶ç»´ç³»çš„ä»£ç ç¼ºä¹æ˜ç¡®çš„ç´¢å¼•å…³ç³»å°†å¢åŠ ä»£ç è·Ÿè¸ªå’Œè°ƒè¯•çš„å¤æ‚åº¦ã€‚æœ¬æ–‡ä½œä¸ºç®€æ˜åœ°åˆ†æï¼Œå¸Œæœ›èƒ½æŠ›ç –å¼•ç‰ï¼Œå¦‚æœ‰ä¸å½“ä¹‹å¤„è¿˜æœ›æŒ‡æ­£ã€‚"),e("br"),a._v("ç¥å„ä½æ‹¥æœ‰ä¸€ä»½å¥½å¿ƒæƒ…ï¼šï¼‰ã€‚")]),a._v(" "),e("hr"),a._v(" "),e("h2",{attrs:{id:"å…¬ä¼—å·"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å…¬ä¼—å·","aria-hidden":"true"}},[a._v("#")]),a._v(" å…¬ä¼—å·")]),a._v(" "),e("p",[a._v("æƒ³è¦å®æ—¶å…³æ³¨ç¬”è€…æœ€æ–°çš„æ–‡ç« å’Œæœ€æ–°çš„æ–‡æ¡£æ›´æ–°è¯·å…³æ³¨å…¬ä¼—å·"),e("strong",[a._v("ç¨‹åºå‘˜")]),a._v("å®˜**,åç»­çš„æ–‡ç« ä¼šä¼˜å…ˆåœ¨å…¬ä¼—å·æ›´æ–°.")]),a._v(" "),e("p",[e("strong",[a._v("ç®€å†æ¨¡æ¿:")]),a._v(" å…³æ³¨å…¬ä¼—å·å›å¤ã€Œæ¨¡æ¿ã€è·å–")]),a._v(" "),e("p",[e("strong",[a._v("ã€Šå‰ç«¯")]),a._v("æ‰‹å†Œã€‹ğŸ˜—* é…å¥—äºæœ¬æŒ‡å—çš„çªå‡»æ‰‹å†Œ,å…³æ³¨å…¬ä¼—å·å›å¤ã€Œfedã€è·å–")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://xiaomuzhu-image.oss-cn-beijing.aliyuncs.com/d846f65d5025c4b6c4619662a0669503.png",alt:"2019-08-12-03-18-41"}})])])},[],!1,null,null,null);t.default=s.exports}}]);